const e="bf096adfc02b1d9503cca39671f19618",t="https://image.tmdb.org/t/p/w500",o="https://api.themoviedb.org/3/";function n(){document.querySelector("#modal__button-watched").classList.toggle("button-active"),document.querySelector("#modal__button-watched").classList.contains("button-active")?document.querySelector("#modal__button-watched").textContent="Remove from watched":document.querySelector("#modal__button-watched").textContent="Add to watched"}function c(){document.querySelector("#modal__button-queue").classList.toggle("button-active"),document.querySelector("#modal__button-queue").classList.contains("button-active")?document.querySelector("#modal__button-queue").textContent="Remove from queue":document.querySelector("#modal__button-queue").textContent="Add to queue"}(()=>{const n={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e}`}},c=document.querySelector("#gallery"),a=async()=>{try{document.querySelector(".lds-ring").style.display="inline-block";const t=await fetch(`${o}movie/popular?language=en-US&page=1&api_key=${e}`,n),c=await t.json();return console.log(c.results),document.querySelector(".lds-ring").style.display="none",c.results}catch(e){console.error(e)}};(async()=>{const t=await(async()=>{try{const t=await fetch(`${o}/genre/movie/list?api_key=${e}`,n);return(await t.json()).genres}catch(e){console.error(e)}})(),c=(await a()).map((e=>{const o=e.genre_ids,n=[];for(let e=0;e<o.length;e++)for(let c=0;c<t.length;c++)o[e]===t[c].id&&n.push(t[e].name);return e.genres=n,e}));r(c)})();const r=e=>{e.forEach((e=>{const o=document.createElement("div");o.className="card",o.innerHTML=`<div id="card" class="card" >\n                   <img  class="card__poster" src="${t}${e.poster_path}" alt="${e.original_title}" title="${e.original_title}" />\n                      </div>\n                       <div class="card__content">\n           <div class="card__info">\n               <div class="card__title">${e.original_title}</div>\n            <div class="card__genre">${e.genres.join(", ")} |</div>\n              <div class="card__release">${e.release_date.slice(0,4)}</div>\n            </div>\n          </div>`;const n=document.getElementById("modalBox");console.log(n),c.appendChild(o),o.addEventListener("click",(()=>{a(e)}));const a=e=>{let o=document.querySelector(".backdrop");const n=document.querySelector(".modal__btn-close"),c=document.querySelector(".modal__photo"),a=document.querySelector(".modal__title"),r=document.querySelector(".modal__stats-vote"),d=document.querySelector(".modal__stats-votes"),l=document.querySelector(".modal__popularity"),i=document.querySelector(".modal__film-title"),s=document.querySelector(".modal__genre"),u=document.querySelector(".modal__about-text");o.classList.remove("is-hidden"),c.src=`${t}${e.poster_path}`,a.innerHTML=`${e.original_title}`,r.innerHTML=`${e.vote_average}`,d.innerHTML=`${e.vote_count}`,l.innerHTML=`${e.popularity}`,i.innerHTML=`${e.original_title}`,s.innerHTML=`${e.genres}`,u.innerHTML=`${e.overview}`,n.addEventListener("click",(()=>{o.classList.add("is-hidden")}))}}))}})(),window.addEventListener("load",(()=>{document.querySelector("#modal__button-watched").addEventListener("click",n),document.querySelector("#modal__button-queue").addEventListener("click",c),document.addEventListener("keyup",(e=>{"Escape"===e.key&&$2ea800676e6f7669$export$3f6fecd573f3fa48()})),document.addEventListener("click",(e=>{e.target.classList.contains("modal")||$2ea800676e6f7669$export$3f6fecd573f3fa48()})),document.querySelector(".modal").addEventListener("click",(e=>{e.stopPropagation()}))}));
//# sourceMappingURL=index.19fb651e.js.map
