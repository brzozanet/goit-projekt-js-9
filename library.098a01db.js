const e="https://image.tmdb.org/t/p/w500";new class{#e=[];#t=[];constructor(){const e=JSON.parse(localStorage.getItem("watched-movies")),t=JSON.parse(localStorage.getItem("queued-movies"));this.#e=e||[],this.#t=t||[]}get watched(){return this.#e}get queued(){return this.#t}isAdded(e,t){for(let d=0;d<t.length;d++)if(+t[d].id==+e.id)return!1;return!0}addToWatch(e){this.isAdded(e,this.#e)&&(this.#e.push(e),localStorage.setItem("watched-movies",JSON.stringify(this.#e)))}addToQueue(e){this.isAdded(e,this.#t)&&(this.#t.push(e),localStorage.setItem("queued-movies",JSON.stringify(this.#t)))}};const t=t=>{const d=document.querySelector(".backdrop"),i=document.querySelector(".modal__btn-close"),a=document.querySelector(".modal__photo"),r=document.querySelector(".modal__title"),n=document.querySelector(".modal__stats-vote"),s=document.querySelector(".modal__stats-votes"),c=document.querySelector(".modal__popularity"),o=document.querySelector(".modal__film-title"),l=document.querySelector(".modal__genre"),u=document.querySelector(".modal__about-text");d.classList.remove("is-hidden"),a.innerHTML=`<img src="${e}${t.poster_path}" alt="${t.original_title}" class="modal__photo">`,r.innerHTML=`${t.original_title}`,n.innerHTML=`${t.vote_average}`,s.innerHTML=`${t.vote_count}`,c.innerHTML=`${t.popularity}`,o.innerHTML=`${t.original_title}`,l.innerHTML=`${t.genres.join(", ")}`,u.innerHTML=`${t.overview}`;const m=document.querySelector("#modal__button-watched"),_=document.querySelector("#modal__button-queue");m.classList.add("is-hidden"),_.classList.add("is-hidden"),i.addEventListener("click",(()=>{d.classList.add("is-hidden")})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&d.classList.add("is-hidden")})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&d.classList.add("is-hidden")})),window.addEventListener("click",(e=>{e.target.classList.contains("backdrop")&&d.classList.add("is-hidden")}))};let d=JSON.parse(localStorage.getItem("watched-movies")),i=JSON.parse(localStorage.getItem("queued-movies"));const a=document.querySelector("#library-watched"),r=document.querySelector("#library-queued");if(d&&Array.isArray(d)){(d=>{d.forEach((d=>{const i=document.createElement("div");i.className="card",i.innerHTML=`\n          <div id="card" class="card" >\n            <img class="card__poster" src="${e}${d.poster_path}" alt="${d.original_title}" title="${d.original_title}" />\n          </div>\n          <div class="card__content">\n            <div class="card__info">\n              <div class="card__title">${d.original_title}</div>\n              <div class="card__genre">${d.genres.join(", ")} |</div>\n              <div class="card__release">${d.release_date.slice(0,4)}</div>\n            </div>\n          </div>`,i.addEventListener("click",(()=>{t(d)})),a.appendChild(i),a.classList.remove("hiddenColor")}))})(d)}else{const e=document.createElement("div");e.innerHTML='\n    <p class="library__title">\n        <strong>You have no watched movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to watched" button.\n    </p>',a.appendChild(e)}if(i&&Array.isArray(i)){(d=>{d.forEach((d=>{const i=document.createElement("div");i.className="card",i.innerHTML=`\n          <div id="card" class="card" >\n            <img class="card__poster" src="${e}${d.poster_path}" alt="${d.original_title}" title="${d.original_title}" />\n          </div>\n          <div class="card__content">\n            <div class="card__info">\n              <div class="card__title">${d.original_title}</div>\n              <div class="card__genre">${d.genres.join(", ")} |</div>\n              <div class="card__release">${d.release_date.slice(0,4)}</div>\n            </div>\n          </div>`,i.addEventListener("click",(()=>{t(d)})),r.appendChild(i),r.classList.remove("hiddenColor")}))})(i)}else{const e=document.createElement("div");e.innerHTML='\n    <p class="library__title">\n        <strong>You have no queued movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to queue" button.\n    </p>',r.appendChild(e)}const n=document.querySelector("#button-watched"),s=document.querySelector("#button-queue"),c=document.querySelector("#library-watched"),o=document.querySelector("#library-queued"),l=document.querySelector("#library-info");n.addEventListener("click",(()=>{c.classList.remove("hidden-in-library"),o.classList.add("hidden-in-library"),l.classList.add("hidden-in-library")})),s.addEventListener("click",(()=>{c.classList.add("hidden-in-library"),o.classList.remove("hidden-in-library"),l.classList.add("hidden-in-library")}));
//# sourceMappingURL=library.098a01db.js.map
