var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},t=e.parcelRequire555a;null==t&&((t=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){i[e]=r},e.parcelRequire555a=t);var a=t("3479m"),n=t("40lI0");t("7IoHk");let d=JSON.parse(localStorage.getItem("watched-movies")),o=JSON.parse(localStorage.getItem("queued-movies"));const l=document.querySelector("#library-watched"),c=document.querySelector("#library-queued");if(d&&Array.isArray(d)){(e=>{e.forEach((e=>{const r=document.createElement("div");r.className="card",r.innerHTML=`\n          <div id="card" class="card" >\n            <img class="card__poster" src="${a.IMG_URL}${e.poster_path}" alt="${e.original_title}" title="${e.original_title}" />\n          </div>\n          <div class="card__content">\n            <div class="card__info">\n              <div class="card__title">${e.original_title}</div>\n              <div class="card__genre">${e.genres} |</div>\n              <div class="card__release">${e.release_date.slice(0,4)}</div>\n            </div>\n          </div>`,r.addEventListener("click",(async()=>{(0,n.modalBoxShow)(e),await h(e.id)})),l.appendChild(r),l.classList.remove("hiddenColor")}))})(d)}else{const e=document.createElement("div");e.innerHTML='\n    <p class="library__title">\n        <strong>You have no watched movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to watched" button.\n    </p>',l.appendChild(e)}if(o&&Array.isArray(o)){(e=>{e.forEach((e=>{const r=document.createElement("div");r.className="card",r.innerHTML=`\n          <div id="card" class="card" >\n            <img class="card__poster" src="${a.IMG_URL}${e.poster_path}" alt="${e.original_title}" title="${e.original_title}" />\n          </div>\n          <div class="card__content">\n            <div class="card__info">\n              <div class="card__title">${e.original_title}</div>\n              <div class="card__genre">${e.genres} |</div>\n              <div class="card__release">${e.release_date.slice(0,4)}</div>\n            </div>\n          </div>`,r.addEventListener("click",(async()=>{(0,n.modalBoxShow)(e),await h(e.id)})),c.appendChild(r),c.classList.remove("hiddenColor")}))})(o)}else{const e=document.createElement("div");e.innerHTML='\n    <p class="library__title">\n        <strong>You have no queued movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to queue" button.\n    </p>',c.appendChild(e)}const s=document.querySelector("#button-watched"),u=document.querySelector("#button-queue"),v=document.querySelector("#library-watched"),m=document.querySelector("#library-queued"),_=document.querySelector("#library-info");s.addEventListener("click",(()=>{v.classList.remove("hidden-in-library"),m.classList.add("hidden-in-library"),_.classList.add("hidden-in-library")})),u.addEventListener("click",(()=>{v.classList.add("hidden-in-library"),m.classList.remove("hidden-in-library"),_.classList.add("hidden-in-library")}));const h=async e=>{const r={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${a.API_KEY}`}};try{const i=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?language=${a.LANGUAGE}&api_key=${a.API_KEY}`,r);if(!i.ok)throw new Error("Network response was not ok");const t=await i.json(),{results:n}=t,d=`https://www.youtube.com/embed/${n[0].key}`;document.querySelector(".modal__trailer").innerHTML=`<iframe id="modal__trailer-video" width="373" height="210" src="${d}" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`}catch(e){console.error(e)}};
//# sourceMappingURL=library.3fa8e62f.js.map
