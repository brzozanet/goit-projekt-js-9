{"mappings":"AAAO,MAAMA,EAAU,mCAEVC,EAAM,gCCEa,MAC9B,MAAMC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAe,UAAUN,MAIvBO,EAAoBC,SAASC,cAAc,2BAE3CC,EAAmBC,UACvB,ICfgBH,SAASC,cAAc,aAC/BG,MAAMC,QAAU,eDgBtB,MAAMC,QAAiBC,MACrB,GAAGd,gDAAwDD,IAC3DE,GAEIc,QAAaF,EAASG,OAG5B,OAFAC,QAAQC,IAAIH,EAAKI,SClBHZ,SAASC,cAAc,aAC/BG,MAAMC,QAAU,ODmBfG,EAAKI,OACd,CAAE,MAAOC,GACPH,QAAQG,MAAMA,EAChB,GAkBkBV,WAClB,MAAMW,OAhBYX,WAClB,IACE,MAAMG,QAAiBC,MACrB,GAAGd,8BAAgCD,IACnCE,GAEIqB,QAAmBT,EAASG,OAGlC,OAFAC,QAAQC,IAAII,EAAWD,QAEhBC,EAAWD,MACpB,CAAE,MAAOD,GACPH,QAAQG,MAAMA,EAChB,GAIqBG,GAEfC,SAD0Bf,KACCgB,KAAIC,IACnC,MAAMC,EAAiBD,EAAME,UACvBC,EAAgB,GACtB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAeI,OAAQD,IACzC,IAAK,IAAIE,EAAI,EAAGA,EAAIX,EAAOU,OAAQC,IAC7BL,EAAeG,KAAOT,EAAOW,GAAGC,IAClCJ,EAAcK,KAAKb,EAAOS,GAAGK,MAKnC,OADAT,EAAML,OAASQ,EACRH,CAAA,IAETU,EAAcZ,EAAA,EAEhBa,GAEA,MAAMD,EAAgBZ,IACpBA,EAAOc,SAAQZ,IACbpB,EAAkBiC,WAAa,mHAEgBb,EAAMc,qBACnDd,EAAMe,0BACIf,EAAMe,2IAGiBf,EAAMe,gEACNf,EAAML,OAAOqB,KAAK,2DAChBhB,EAAMiB,aAAaC,MAC9C,EACA,+DAEkClB,EAAMmB,kFAIjD,GACH,CACF,EEpFF","sources":["src/js/setup.js","src/js/most-popular.js","src/js/loading-spinner.js","src/js/app.js"],"sourcesContent":["export const API_KEY = \"bf096adfc02b1d9503cca39671f19618\";\nexport const IMG_URL = \"https://image.tmdb.org/t/p/w500\";\nexport const URL = \"https://api.themoviedb.org/3/\";\nexport const LANGUAGE = \"en-US\";\n","import \"../sass/main.scss\";\nimport { API_KEY, IMG_URL, URL, LANGUAGE } from \"./setup\";\nimport { showSpinner, hideSpinner } from \"./loading-spinner\";\n\nexport const fetchMostPopular = () => {\n  const options = {\n    method: \"GET\",\n    headers: {\n      accept: \"application/json\",\n      Authorization: `Bearer ${API_KEY}`,\n    },\n  };\n\n  const moviesContainerEl = document.querySelector(\"#movies-container-index\");\n\n  const fetchPopularData = async () => {\n    try {\n      showSpinner();\n      const response = await fetch(\n        `${URL}movie/popular?language=${LANGUAGE}&page=1&api_key=${API_KEY}`,\n        options\n      );\n      const data = await response.json();\n      console.log(data.results);\n      hideSpinner();\n      return data.results;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const fetchGenres = async () => {\n    try {\n      const response = await fetch(\n        `${URL}/genre/movie/list?api_key=${API_KEY}`,\n        options\n      );\n      const genreNames = await response.json();\n      console.log(genreNames.genres);\n\n      return genreNames.genres;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const matchGenres = async () => {\n    const genres = await fetchGenres();\n    const popularMoviesData = await fetchPopularData();\n    const movies = popularMoviesData.map(movie => {\n      const movieGenresIds = movie.genre_ids;\n      const matchedGenres = [];\n      for (let i = 0; i < movieGenresIds.length; i++) {\n        for (let j = 0; j < genres.length; j++) {\n          if (movieGenresIds[i] === genres[j].id) {\n            matchedGenres.push(genres[i].name);\n          }\n        }\n      }\n      movie.genres = matchedGenres;\n      return movie;\n    });\n    popularMovies(movies);\n  };\n  matchGenres();\n\n  const popularMovies = movies => {\n    movies.forEach(movie => {\n      moviesContainerEl.innerHTML += `\n        <div id=\"card\" class=\"card\">\n          <img class=\"card__poster\" src=\"${IMG_URL}${movie.poster_path}\" alt=\"${\n        movie.original_title\n      }\" title=\"${movie.original_title}\" />\n          <div class=\"card__content\">\n            <div class=\"card__info\">\n              <div class=\"card__title\">${movie.original_title}</div>\n              <div class=\"card__genre\">${movie.genres.join(\", \")} |</div>\n              <div class=\"card__release\">${movie.release_date.slice(\n                0,\n                4\n              )} |</div>\n              <div class=\"card__rating\">Rating: ${movie.vote_average}</div>\n            </div>\n          </div>\n        </div>\n      `;\n    });\n  };\n};\n","export const showSpinner = () => {\n  const spinnerEl = document.querySelector(\".lds-ring\");\n  spinnerEl.style.display = \"inline-block\";\n};\nexport const hideSpinner = () => {\n  const spinnerEl = document.querySelector(\".lds-ring\");\n  spinnerEl.style.display = \"none\";\n};\n","import \"../sass/main.scss\";\nimport { fetchMostPopular } from \"./most-popular\";\n\nfetchMostPopular();\n"],"names":["$23b74aa3aeac62a3$export$a9861bd62f48e142","$23b74aa3aeac62a3$export$61abde59b50deb8e","options","method","headers","accept","Authorization","moviesContainerEl","document","querySelector","fetchPopularData","async","style","display","response","fetch","data","json","console","log","results","error","genres","genreNames","fetchGenres","movies","map","movie","movieGenresIds","genre_ids","matchedGenres","i","length","j","id","push","name","popularMovies","matchGenres","forEach","innerHTML","poster_path","original_title","join","release_date","slice","vote_average"],"version":3,"file":"index.dd494191.js.map"}