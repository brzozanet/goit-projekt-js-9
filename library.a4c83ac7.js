const e="https://image.tmdb.org/t/p/w500";const t=new class{#e=[];#t=[];constructor(){const e=JSON.parse(localStorage.getItem("watched-movies")),t=JSON.parse(localStorage.getItem("queued-movies"));this.#e=e||[],this.#t=t||[]}get watched(){return this.#e}get queued(){return this.#t}isAdded(e,t){for(let d=0;d<t.length;d++)if(+t[d].id==+e.id)return!1;return!0}addToWatch(e){this.isAdded(e,this.#e)&&(this.#e.push(e),localStorage.setItem("watched-movies",JSON.stringify(this.#e)))}addToQueue(e){this.isAdded(e,this.#t)&&(this.#t.push(e),localStorage.setItem("queued-movies",JSON.stringify(this.#t)))}},d=d=>{const i=document.querySelector(".backdrop"),r=document.querySelector(".modal__btn-close"),a=document.querySelector(".modal__photo"),n=document.querySelector(".modal__title"),s=document.querySelector(".modal__stats-vote"),c=document.querySelector(".modal__stats-votes"),o=document.querySelector(".modal__popularity"),l=document.querySelector(".modal__film-title"),u=document.querySelector(".modal__genre"),m=document.querySelector(".modal__about-text");i.classList.remove("is-hidden"),a.src=`${e}${d.poster_path}`,n.innerHTML=`${d.original_title}`,s.innerHTML=`${d.vote_average}`,c.innerHTML=`${d.vote_count}`,o.innerHTML=`${d.popularity}`,l.innerHTML=`${d.original_title}`,u.innerHTML=`${d.genres.join(", ")}`,m.innerHTML=`${d.overview}`;const _=document.querySelector("#modal__button-watched"),h=document.querySelector("#modal__button-queue");_.addEventListener("click",(()=>t.addToWatch(d))),h.addEventListener("click",(()=>t.addToQueue(d))),r.addEventListener("click",(()=>{i.classList.add("is-hidden")})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&i.classList.add("is-hidden")})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&i.classList.add("is-hidden")})),window.addEventListener("click",(e=>{e.target.classList.contains("backdrop")&&i.classList.add("is-hidden")}))};let i=JSON.parse(localStorage.getItem("watched-movies")),r=JSON.parse(localStorage.getItem("queued-movies"));const a=document.querySelector("#library-watched"),n=document.querySelector("#library-queued");if(i&&Array.isArray(i)){(t=>{t.forEach((t=>{const i=document.createElement("div");i.className="card",i.innerHTML=`\n          <div id="card" class="card" >\n            <img class="card__poster" src="${e}${t.poster_path}" alt="${t.original_title}" title="${t.original_title}" />\n          </div>\n          <div class="card__content">\n            <div class="card__info">\n              <div class="card__title">${t.original_title}</div>\n              <div class="card__genre">${t.genres.join(", ")} |</div>\n              <div class="card__release">${t.release_date.slice(0,4)}</div>\n            </div>\n          </div>`,i.addEventListener("click",(()=>{d(t)})),a.appendChild(i),a.classList.remove("hiddenColor")}))})(i)}else{const e=document.createElement("div");e.innerHTML='\n    <p class="library__title">\n        <strong>You have no watched movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to watched" button.\n    </p>',a.appendChild(e)}if(r&&Array.isArray(r)){(t=>{t.forEach((t=>{const i=document.createElement("div");i.className="card",i.innerHTML=`\n          <div id="card" class="card" >\n            <img class="card__poster" src="${e}${t.poster_path}" alt="${t.original_title}" title="${t.original_title}" />\n          </div>\n          <div class="card__content">\n            <div class="card__info">\n              <div class="card__title">${t.original_title}</div>\n              <div class="card__genre">${t.genres.join(", ")} |</div>\n              <div class="card__release">${t.release_date.slice(0,4)}</div>\n            </div>\n          </div>`,i.addEventListener("click",(()=>{d(t)})),n.appendChild(i),n.classList.remove("hiddenColor")}))})(r)}else{const e=document.createElement("div");e.innerHTML='\n    <p class="library__title">\n        <strong>You have no queued movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to queue" button.\n    </p>',n.appendChild(e)}const s=document.querySelector("#button-watched"),c=document.querySelector("#button-queue"),o=document.querySelector("#library-watched"),l=document.querySelector("#library-queued"),u=document.querySelector("#library-info");s.addEventListener("click",(()=>{o.classList.remove("hidden-in-library"),l.classList.add("hidden-in-library"),u.classList.add("hidden-in-library")})),c.addEventListener("click",(()=>{o.classList.add("hidden-in-library"),l.classList.remove("hidden-in-library"),u.classList.add("hidden-in-library")}));
//# sourceMappingURL=library.a4c83ac7.js.map
