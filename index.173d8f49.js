function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire555a;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire555a=o);var i=o("3479m");const a=()=>{const e=document.querySelector(".lds-ring");e&&e.classList.remove("is-hidden")},c=()=>{const e=document.querySelector(".lds-ring");e&&e.classList.add("is-hidden")};o("b374K");var s=o("40lI0"),l=(i=o("3479m"),o("b374K"));const d=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];s=o("40lI0");var u,f=o("7IoHk"),v={};v=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var m,p={},y={};m="object"==typeof t&&t&&t.Object===Object&&t;var h="object"==typeof self&&self&&self.Object===Object&&self,g=m||h||Function("return this")();p=function(){return y.Date.now()};var _={},w={},$={},b=/\s/;$=function(e){for(var t=e.length;t--&&b.test(e.charAt(t)););return t};var E=/^\s+/;w=function(e){return e?e.slice(0,$(e)+1).replace(E,""):e};var L,T={},N={};L=(y=g).Symbol;var j={},S=Object.prototype,A=S.hasOwnProperty,O=S.toString,x=L?L.toStringTag:void 0;j=function(e){var t=A.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var o=O.call(e);return r&&(t?e[x]=n:delete e[x]),o};var I={},M=Object.prototype.toString;I=function(e){return M.call(e)};var k=L?L.toStringTag:void 0;N=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?j(e):I(e)};var U={};U=function(e){return null!=e&&"object"==typeof e};T=function(e){return"symbol"==typeof e||U(e)&&"[object Symbol]"==N(e)};var q=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,G=/^0o[0-7]+$/i,H=parseInt;_=function(e){if("number"==typeof e)return e;if(T(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=w(e);var n=P.test(e);return n||G.test(e)?H(e.slice(2),n?2:8):q.test(e)?NaN:+e};var R=Math.max,F=Math.min;u=function(e,t,n){var r,o,i,a,c,s,l=0,d=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function y(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-l>=i}function h(){var e=p();if(y(e))return g(e);c=setTimeout(h,function(e){var n=t-(e-s);return u?F(n,i-(e-l)):n}(e))}function g(e){return c=void 0,f&&r?m(e):(r=o=void 0,a)}function w(){var e=p(),n=y(e);if(r=arguments,o=this,s=e,n){if(void 0===c)return function(e){return l=e,c=setTimeout(h,t),d?m(e):a}(s);if(u)return clearTimeout(c),c=setTimeout(h,t),m(s)}return void 0===c&&(c=setTimeout(h,t)),a}return t=_(t)||0,v(n)&&(d=!!n.leading,i=(u="maxWait"in n)?R(_(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=s=o=c=void 0},w.flush=function(){return void 0===c?a:g(p())},w};e(f).Notify.init({width:"280px",position:"center-top",timeout:4e3,closeButton:!1,distance:"25px",borderRadius:"10px",fontSize:"18px"});const K=new(0,l.UserMovies),D=`${i.URL}/search/movie?api_key=${i.API_KEY}&query=`,Y=(i.URL,i.LANGUAGE,i.API_KEY,document.querySelector("#form")),B=document.querySelector("#search"),C=document.querySelector(".movies-container");async function W(t){try{const r=await fetch(t);if(!r.ok)throw new(e(f).Notify.warning)("Sorry, the server is not responding. Please try again later.");const o=await r.json();if(0===o.results.length)throw new(e(f).Notify.failure)("MOVIE  NOT  FOUND");n=o.results,C.innerHTML="",n.forEach((e=>{const{original_title:t,poster_path:n,vote_average:r,release_date:o,genre_ids:a}=e,c=document.createElement("div");c.classList.add("card");const l=a.map((e=>d.find((t=>t.id===e)).name)).join(", ");console.error;const u=n?`${i.IMG_URL}${n}`:"https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-1-scaled-1150x647.png",f=n?t:"Poster Not Found";c.innerHTML=`\n      <div id="card" class="card">\n        <img class="card__poster" src="${u}" alt="${f}" title="${t}" />\n        <div class="card__content">\n          <div class="card__info">\n            <div class="card__title">${t}</div>\n            <div class="card__genre">${l} |</div>\n            <div class="card__release">${o.slice(0,4)} </div>\n          </div>\n        </div>\n      </div>`,C.appendChild(c),c.addEventListener("click",(()=>{(0,s.modalBoxShow)(e)}));const v=document.querySelector("#modal__button-watched"),m=document.querySelector("#modal__button-queue");v.addEventListener("click",(()=>K.addToWatch(e))),m.addEventListener("click",(()=>K.addToQueue(e)))}))}catch(e){console.log("MOVIE  NOT  FOUND")}var n}null!==Y&&Y.addEventListener("input",e(u)((()=>{const e=B.value;e&&""!==e?W(D+e):window.location.reload()}),1e3));f=o("7IoHk");(async()=>{let t=1,n=0;const r={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${i.API_KEY}`}},o=async t=>{try{a();const e=await fetch(`${i.URL}movie/popular?language=${i.LANGUAGE}&page=${t}&api_key=${i.API_KEY}`,r),n=await e.json();return c(),n}catch(t){e(f).Notify.failure("Sorry, the server is not responding. Please try again later.")}},l=async()=>{try{const e=await fetch(`${i.URL}genre/movie/list?api_key=${i.API_KEY}`,r);return(await e.json()).genres}catch(t){e(f).Notify.failure("Sorry, the server is not responding. Please try again later.")}},d=async()=>{c();const{scrollTop:e,clientHeight:r,scrollHeight:i}=document.documentElement;if(e+r>=i-10){window.removeEventListener("scroll",d),t++;const e=await l(),r=(await o(t)).results.map((t=>{const n=t.genre_ids,r=[];for(let t=0;t<n.length;t++)for(let o=0;o<e.length;o++)n[t]===e[o].id&&r.push(e[o].name);return t.genres=r,t}));u(r),t<n&&window.addEventListener("scroll",d)}},u=e=>{e.forEach((e=>{const t=document.createElement("div");t.className="card";const n=e.poster_path?`${i.IMG_URL}${e.poster_path}`:"https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-1-scaled-1150x647.png",r=e.poster_path?e.original_title:"Poster Not Found";t.innerHTML=`\n        <div id="card" class="card" >\n          <img class="card__poster" src="${n}" alt="${r}" title="${e.original_title}" />\n        </div>\n        <div class="card__content">\n          <div class="card__info">\n            <div class="card__title">${e.original_title}</div>\n            <div class="card__genre">${e.genres.join(", ")} |</div>\n            <div class="card__release">${e.release_date.slice(0,4)}</div>\n          </div>\n        </div>`;const o=document.querySelector("#gallery");o&&(o.appendChild(t),t.addEventListener("click",(async()=>{(0,s.modalBoxShow)(e),await z(e.id)})))}))};await(async()=>{const e=await l(),r=await o(t),i=r.results.map((t=>{const n=t.genre_ids,r=[];for(let t=0;t<n.length;t++)for(let o=0;o<e.length;o++)n[t]===e[o].id&&r.push(e[o].name);return t.genres=r,t}));u(i),n=r.total_pages,t<n&&window.addEventListener("scroll",d)})()})();const z=async e=>{const t={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${i.API_KEY}`}};try{const n=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?language=${i.LANGUAGE}&api_key=${i.API_KEY}`,t);if(!n.ok)throw new Error("Network response was not ok");const r=await n.json(),{results:o}=r,a=`https://www.youtube.com/embed/${o[0].key}`;document.querySelector(".modal__trailer").innerHTML=`<iframe id="modal__trailer-video" width="373" height="210" src="${a}" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,console.log(a)}catch(e){console.error(e)}};
//# sourceMappingURL=index.173d8f49.js.map
